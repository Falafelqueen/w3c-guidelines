<%= turbo_stream.replace :guidelines do %>
  <%= turbo_frame_tag :guidelines do %>
    <%= render "guidelines", guidelines: @guidelines %>
    <%== pagy_nav(@pagy) %>
  <% end %>
<% end %>

<%= turbo_stream.replace :dropdown_items do %>
  <%= turbo_frame_tag :dropdown_items do %>
    <% items = [
      "<a href=#{guidelines_path(sort_by: :high_impact, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "high_impact"}>Impact (high first)</a>",
      "<a href=#{guidelines_path(sort_by: :low_impact, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "low_impact"}>Impact (low first)</a>",
      "<a href=#{guidelines_path(sort_by: :high_effort, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "high_effort"}>Effort (high first)</a>",
      "<a href=#{guidelines_path(sort_by: :low_effort, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "low_effort"}>Effort (low first)</a>"
    ] %>
    <%= render "components/dropdown", text: "Sort", items: items %>
  <% end %>
<% end %>

<%= turbo_stream.replace :applied_filters do %>
  <%= render "applied_filters" %>
<% end %>

<%= turbo_stream.replace :filter_form do %>
  <%= render "filter_form" %>
<% end %>
