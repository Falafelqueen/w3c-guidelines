<div>
  <h1 class="header-xxl">Learn Web Sustainability Guidelines with ease</h1>
  <h2 class="header-m">Discover the guidelines in simple way, filter, sort and start making your website more sustainable</h2>
</div>

<div>
  <div class="filters">
    <%= turbo_frame_tag :dropdown_items do %>
      <% items = [
        "<a href=#{guidelines_path(sort_by: :high_impact, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "high_impact"}>Impact (high first)</a>",
        "<a href=#{guidelines_path(sort_by: :low_impact, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "low_impact"}>Impact (low first)</a>",
        "<a href=#{guidelines_path(sort_by: :high_effort, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "high_effort"}>Effort (high first)</a>",
        "<a href=#{guidelines_path(sort_by: :low_effort, effort: params[:effort], impact: params[:impact], category: params[:category])} data-turbo-stream class=#{"active" if params[:sort_by] == "low_effort"}>Effort (low first)</a>",
      ] %>
      <%= render "components/dropdown",
      text: "Sort",
      items: items,
      list_container_class: "dropdown__list-container-left" %>
    <% end %>
    <%= render "filter_form" %>
  </div>
  <%= render "applied_filters" %>
</div>

<%= turbo_frame_tag :guidelines  do %>
  <%= render "guidelines", guidelines: @guidelines %>
  <%== pagy_nav(@pagy) %>
<% end %>
